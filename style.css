*,
*::before,
*::after {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

html,
body {
  height: 100%;
  overflow: hidden;
  font-family: -apple-system, BlinkMacSystemFont, "PingFang SC", "SF Pro Text",
    "Helvetica Neue", system-ui, sans-serif;
  background: #000;
  color: #fff;
}

/* 初始黑屏层 */
#intro-layer {
  position: fixed;
  inset: 0;
  background: #000;
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 10;
  transition: opacity 1.4s ease;
}

#intro-layer.hidden {
  opacity: 0;
  pointer-events: none;
}

#enter-time-btn {
  padding: 0.8rem 2.4rem;
  border-radius: 999px;
  border: 1px solid rgba(255, 255, 255, 0.7);
  background: rgba(0, 0, 0, 0.4);
  color: #fff;
  font-size: 1rem;
  letter-spacing: 0.28em;
  text-indent: 0.28em;
  cursor: pointer;
  text-transform: uppercase;
  box-shadow: 0 0 18px rgba(255, 255, 255, 0.1);
  transition: background 0.28s ease, box-shadow 0.28s ease,
    border-color 0.28s ease, transform 0.28s ease;
}

#enter-time-btn:hover {
  background: rgba(255, 255, 255, 0.08);
  border-color: rgba(255, 255, 255, 0.95);
  box-shadow: 0 0 26px rgba(255, 255, 255, 0.35);
  transform: translateY(-1px);
}

/* 主场景 */
.scene {
  position: relative;
  width: 100vw;
  height: 100vh;
}

/* 星空背景整体：深蓝 + 粒子银河 */
#sky {
  position: absolute;
  inset: 0;
  background: radial-gradient(
      circle at 50% 15%,
      #223a6a 0,
      #050b16 45%,
      #02040a 100%
    );
  transition: background 1.6s ease;
  overflow: hidden;
}

/* 银河带：用多重渐变模拟一条斜向星云 */
.milky-way {
  position: absolute;
  inset: -40%;
  background-image: radial-gradient(
      circle at 10% 50%,
      rgba(255, 255, 255, 0.16),
      transparent 60%
    ),
    radial-gradient(circle at 30% 40%, rgba(200, 220, 255, 0.18), transparent 60%),
    radial-gradient(circle at 50% 55%, rgba(180, 210, 255, 0.18), transparent 60%),
    radial-gradient(circle at 70% 45%, rgba(255, 230, 255, 0.14), transparent 58%),
    radial-gradient(circle at 90% 50%, rgba(200, 220, 255, 0.16), transparent 60%);
  opacity: 0.55;
  mix-blend-mode: screen;
  filter: blur(6px);
  transform-origin: 50% 50%;
  transition: opacity 1.6s ease, filter 1.6s ease, transform 2.8s ease;
}

/* 远处的朦胧星云光晕 */
.sky-glow {
  position: absolute;
  inset: -30%;
  pointer-events: none;
  background: radial-gradient(
      circle at 18% 22%,
      rgba(120, 170, 255, 0.35),
      transparent 60%
    ),
    radial-gradient(circle at 70% 15%, rgba(255, 184, 214, 0.28), transparent 60%),
    radial-gradient(circle at 60% 75%, rgba(150, 120, 255, 0.26), transparent 60%);
  mix-blend-mode: screen;
  filter: blur(5px);
  opacity: 0.85;
  transition: opacity 1.6s ease, filter 1.6s ease;
}

/* 星星层容器 */
#stars {
  position: absolute;
  inset: 0;
  pointer-events: none;
}

/* 单颗星粒子 */
.star {
  position: absolute;
  width: 2px;
  height: 2px;
  border-radius: 50%;
  background: radial-gradient(circle, #ffffff 0, rgba(255, 255, 255, 0) 70%);
  opacity: 0.8;
  transition: opacity 1.4s ease, transform 1.4s ease, filter 1.4s ease;
  filter: drop-shadow(0 0 4px rgba(255, 255, 255, 0.5));
}

/* 底部作品名 */
.bottom-text {
  position: absolute;
  z-index: 2;
  bottom: 6vh;
  left: 50%;
  transform: translateX(-50%);
  color: rgba(255, 255, 255, 0.68);
  font-size: 0.9rem;
  letter-spacing: 0.32em;
  text-indent: 0.32em;
  text-align: center;
  text-shadow: 0 0 18px rgba(0, 0, 0, 0.7);
}

/* 回到最初视角按钮 */
#reset-view-btn {
  position: absolute;
  z-index: 3;
  right: 2.2rem;
  bottom: 2.2rem;
  width: 40px;
  height: 40px;
  border-radius: 999px;
  border: 1px solid rgba(255, 255, 255, 0.38);
  background: radial-gradient(
    circle at 30% 30%,
    rgba(255, 255, 255, 0.08),
    transparent 65%
  );
  color: rgba(255, 255, 255, 0.8);
  font-size: 1.1rem;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: 0 0 18px rgba(0, 0, 0, 0.75);
  backdrop-filter: blur(6px);
  -webkit-backdrop-filter: blur(6px);
  transition: border-color 0.24s ease, background 0.24s ease,
    color 0.24s ease, transform 0.24s ease, box-shadow 0.24s ease, opacity 0.24s ease;
  opacity: 0.6;
}

#reset-view-btn:hover {
  border-color: rgba(255, 255, 255, 0.95);
  background: radial-gradient(
    circle at 30% 30%,
    rgba(255, 255, 255, 0.18),
    transparent 65%
  );
  color: #fff;
  box-shadow: 0 0 24px rgba(255, 255, 255, 0.35);
  transform: translateY(-1px);
  opacity: 1;
}

/* 小屏幕适配 */
@media (max-width: 768px) {
  #enter-time-btn {
    width: 70%;
    padding-inline: 1.5rem;
    font-size: 0.9rem;
    letter-spacing: 0.2em;
  }
  .bottom-text {
    font-size: 0.75rem;
    letter-spacing: 0.24em;
  }
  #reset-view-btn {
    right: 1.4rem;
    bottom: 1.6rem;
    width: 36px;
    height: 36px;
    font-size: 1rem;
  }
}
